# Vercel Environment Variables

## Required Environment Variables

Copy bu dosyayı Vercel Dashboard > Settings > Environment Variables bölümüne ekleyin.

### Database Configuration (PlanetScale/Railway/Supabase)

```env
DB_HOST=your-database-host.com
DB_PORT=3306
DB_USER=your-database-user
DB_PASSWORD=your-database-password
DB_NAME=report_mark2
```

**Önerilen Database Providers:**
- **PlanetScale** (MySQL-compatible, serverless-friendly)
- **Railway** (PostgreSQL/MySQL)
- **Supabase** (PostgreSQL)
- **AWS RDS** (Production için)

---

### Application Settings

```env
# Session security (MUTLAKA değiştir!)
SESSION_SECRET=generate-a-random-secret-key-here-minimum-32-chars

# Document prefix
DOC_PREFIX=P

# Application host/port (Vercel otomatik ayarlar)
APP_PORT=3000
APP_HOST=0.0.0.0
```

---

### Storage Configuration

**Seçenek 1: Vercel Blob Storage (Önerilen)**
```env
STORAGE_TYPE=vercel-blob
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxxxxxxxxxxxx
```

**Seçenek 2: AWS S3**
```env
STORAGE_TYPE=s3
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_REGION=us-east-1
AWS_S3_BUCKET=report-mark-ii-files
```

**Seçenek 3: Local (Sadece development)**
```env
STORAGE_TYPE=local
STORAGE_ROOT=/tmp/raporlar
```

---

### Security Settings

```env
# Admin IP whitelist (Vercel'de boş bırakabilirsiniz)
ADMIN_IPS=0.0.0.0/0

# Node environment
NODE_ENV=production
```

---

## Vercel Dashboard'da Ayarlama Adımları

1. Vercel Dashboard'u açın
2. Projenizi seçin
3. **Settings** > **Environment Variables**
4. Her bir değişkeni ekleyin:
   - **Name:** Değişken adı (örn: `DB_HOST`)
   - **Value:** Değişken değeri
   - **Environment:** Production, Preview, Development (hepsini seçin)
5. **Save** butonuna tıklayın
6. Deployment'ı yeniden tetikleyin: **Deployments** > **Redeploy**

---

## Session Secret Oluşturma

```bash
# Node.js ile random secret oluştur
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# veya OpenSSL ile
openssl rand -hex 32
```

---

## Database Connection String

### PlanetScale
```
mysql://user:password@aws.connect.psdb.cloud/report_mark2?sslaccept=strict
```

Ayrıştırma:
- `DB_HOST`: aws.connect.psdb.cloud
- `DB_USER`: user
- `DB_PASSWORD`: password
- `DB_NAME`: report_mark2
- `DB_PORT`: 3306

### Railway
Railway Dashboard'dan "Connect" butonuna tıklayın ve değişkenleri kopyalayın.

---

## Vercel Blob Token Alma

1. Vercel Dashboard > **Storage** sekmesi
2. **Create Database** > **Blob**
3. Database adını girin (örn: `report-mark-ii-blob`)
4. **Create** butonuna tıklayın
5. **Environment Variables** otomatik eklenir:
   - `BLOB_READ_WRITE_TOKEN`

---

## Test Etme

Local'de Vercel environment ile test:
```bash
# .env.local dosyası oluştur
cp .env.vercel.example .env.local

# Vercel CLI ile local dev
vercel dev
```

---

## Güvenlik Notları

⚠️ **Asla commit etmeyin:**
- `.env`
- `.env.local`
- `.env.production`

✅ **Git'e ekleyin:**
- `.env.example`
- `.env.vercel.example`

✅ **Vercel Dashboard kullanın:**
- Tüm production secrets Vercel Dashboard'da saklanmalı
